{"ast":null,"code":"import { applyAccessors } from '../optionBuilder';\nimport { obtainSlot, optoinNullableMemberDecorator } from '../utils';\nexport const decorator = optoinNullableMemberDecorator(function (proto, name) {\n  const slot = obtainSlot(proto);\n  const map = slot.obtainMap('ref');\n  map.set(name, true);\n});\nexport function build(cons, optionBuilder) {\n  const slot = obtainSlot(cons.prototype);\n  const names = slot.obtainMap('ref');\n  if (names) {\n    applyAccessors(optionBuilder, ctx => {\n      const data = new Map();\n      names.forEach((value, name) => {\n        data.set(name, {\n          get: function () {\n            return ctx.$refs[name];\n          },\n          set: undefined\n        });\n      });\n      return data;\n    });\n  }\n}","map":{"version":3,"names":["applyAccessors","obtainSlot","optoinNullableMemberDecorator","decorator","proto","name","slot","map","obtainMap","set","build","cons","optionBuilder","prototype","names","ctx","data","Map","forEach","value","get","$refs","undefined"],"sources":["../../../src/option/ref.ts"],"sourcesContent":[null],"mappings":"AACA,SAA6BA,cAAc,QAAQ,kBAAkB;AACrE,SAASC,UAAU,EAAEC,6BAA6B,QAAQ,UAAU;AAEpE,OAAO,MAAMC,SAAS,GAAGD,6BAA6B,CAAC,UAAUE,KAAU,EAAEC,IAAY;EACrF,MAAMC,IAAI,GAAGL,UAAU,CAACG,KAAK,CAAC;EAC9B,MAAMG,GAAG,GAAGD,IAAI,CAACE,SAAS,CAAC,KAAK,CAAC;EACjCD,GAAG,CAACE,GAAG,CAACJ,IAAI,EAAE,IAAI,CAAC;AACvB,CAAC,CAAC;AAGF,OAAM,SAAUK,KAAKA,CAACC,IAAU,EAAEC,aAA4B;EAC1D,MAAMN,IAAI,GAAGL,UAAU,CAACU,IAAI,CAACE,SAAS,CAAC;EACvC,MAAMC,KAAK,GAAGR,IAAI,CAACE,SAAS,CAAC,KAAK,CAAE;EACpC,IAAIM,KAAK,EAAE;IACPd,cAAc,CAACY,aAAa,EAAGG,GAAQ,IAAI;MACvC,MAAMC,IAAI,GAAoD,IAAIC,GAAG,CAAH,CAAG;MACrEH,KAAK,CAACI,OAAO,CAAC,CAACC,KAAK,EAAEd,IAAI,KAAI;QAC1BW,IAAI,CAACP,GAAG,CAACJ,IAAI,EAAE;UACXe,GAAG,EAAE,SAAAA,CAAA;YACD,OAAOL,GAAG,CAACM,KAAK,CAAChB,IAAI,CAAC;UAC1B,CAAC;UACDI,GAAG,EAAEa;SACR,CAAC;MACN,CAAC,CAAC;MACF,OAAON,IAAI;IACf,CAAC,CAAC;;AAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}